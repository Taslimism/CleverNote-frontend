(this["webpackJsonpkeeper-part-3-starting"]=this["webpackJsonpkeeper-part-3-starting"]||[]).push([[0],{14:function(e,t,a){e.exports={btn:"Header_btn__2p68t",btnl:"Header_btnl__dvA-a"}},26:function(e,t,a){e.exports={clicked:"TodoItem_clicked__1Kk4E"}},28:function(e,t,a){e.exports=a(53)},5:function(e,t,a){e.exports={"form-heading":"Form_form-heading__24TUR",form:"Form_form__okroz","input-container":"Form_input-container__2VV7F",success:"Form_success__3Q_A-",error:"Form_error__3-VDv",submit:"Form_submit__eYIzn",register:"Form_register__12x-8"}},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(25),c=a.n(o),l=a(27),s=a(1),u=a(6),i=a.n(u),m=a(7),d=a(2),p=a(8),g=a.n(p),E=a(9),f=a.n(E),h=a(26),v=a.n(h),b=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),o=a[0],c=a[1];return r.a.createElement("li",{onClick:function(e){c(!o)},className:"".concat(v.a["".concat(o?"clicked":"")])},e.todo)},_=function(){var e=new Date,t=Object(n.useRef)(),a=Object(n.useState)(),o=Object(d.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(!1),u=Object(d.a)(s,2),p=u[0],E=u[1];Object(n.useEffect)((function(){Object(m.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat("https://e-vernote.herokuapp.com/","api/v1/todo/").concat(localStorage.getItem("todo-user")),{headers:{authorization:"Bearer ".concat(localStorage.getItem("todo-token"))}});case 3:t=e.sent,a=t.data,l(a.data.todo),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[p]);var h=function(){var e=Object(m.a)(i.a.mark((function e(a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),(n=t.current.value)&&""!==n){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,g.a.post("".concat("https://e-vernote.herokuapp.com/","api/v1/todo"),{userId:"".concat(localStorage.getItem("todo-user")),todo:"".concat(n)},{headers:{authorization:"Bearer ".concat(localStorage.getItem("todo-token"))}});case 7:r=e.sent,"success"===r.data.status&&(t.current.value="",E(!p)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:f.a["main-container"]},r.a.createElement("h2",{className:f.a.heading},"Todo List for ","".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear())),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("input",{ref:t,type:"text",placeholder:"Add items in list"}),r.a.createElement("button",{onClick:h},"Add"))),r.a.createElement("div",{className:f.a["list-container"]},r.a.createElement("ul",{className:f.a.list},c&&c.map((function(e){return r.a.createElement(b,{id:e.id,todo:e.todo,key:e.id})})))))},k=a(14),j=a.n(k),O=r.a.createContext({isLoggedIn:!1,handleLogin:function(){},handleLogout:function(){}}),x=function(e){var t=Object(n.useState)(!1),a=Object(d.a)(t,2),o=a[0],c=a[1],l=function(e,t){localStorage.setItem("todo-token",e),localStorage.setItem("todo-user",t),c(!0)};return Object(n.useEffect)((function(){"null"!==localStorage.getItem("todo-token")&&l(localStorage.getItem("todo-token"),localStorage.getItem("todo-user"))}),[]),r.a.createElement(O.Provider,{value:{isLoggedIn:o,handleLogout:function(){localStorage.setItem("todo-token","null"),localStorage.setItem("todo-user","null"),c(!1)},handleLogin:l}},e.children)},w=O;var S=function(){var e=Object(n.useContext)(w);return r.a.createElement("header",null,r.a.createElement("div",null,r.a.createElement("h1",null,"CleverNote")),!e.isLoggedIn&&r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){window.location="/"},className:j.a.btn},"Login")),e.isLoggedIn&&r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){e.handleLogout(),window.location="/"},className:j.a.btnl},"Logout")))};var I=function(){var e=(new Date).getFullYear();return r.a.createElement("footer",null,r.a.createElement("p",null,"Copyright \u24d2 ",e))},L=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement(_,null),r.a.createElement(I,null))},C=a(12),F=a(15),N=a(5),y=a.n(N),D=function(){var e=Object(n.useContext)(w),t=Object(n.useState)(!1),a=Object(d.a)(t,2),o=a[0],c=(a[1],Object(n.useState)(!1)),l=Object(d.a)(c,2),s=l[0],u=(l[1],Object(n.useState)({name:"",email:"",password:""})),p=Object(d.a)(u,2),E=p[0],f=p[1],h=Object(n.useState)(!1),v=Object(d.a)(h,2),b=v[0],_=v[1],k=function(e){var t=e.target.name,a=e.target.value;f((function(e){return Object(F.a)(Object(F.a)({},e),{},Object(C.a)({},t,a))}))},j=function(){var t=Object(m.a)(i.a.mark((function t(a){var n,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n="",n=b?"register":"login",t.prev=3,t.next=6,g.a.post("".concat("https://e-vernote.herokuapp.com/","api/v1/user/").concat(n),E);case 6:r=t.sent,o=r.data,"register"===n&&(console.log(o.data.statusCode,o.statusCode),_(!b)),"success"===o.status&&"login"===n&&e.handleLogin(o.data.token,o.data.user._id),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:y.a.container},r.a.createElement("form",{className:y.a.form},r.a.createElement("h2",{className:y.a["form-heading"]},b?"Register":"Login"),r.a.createElement("hr",null),b&&r.a.createElement("div",{className:"".concat(y.a["input-container"]," ").concat(y.a["".concat(o?"success":"")]," ").concat(y.a["".concat(s?"error":"")])},r.a.createElement("label",{htmlFor:"name"},"Username"),r.a.createElement("input",{onChange:k,type:"text",name:"name",id:"name",placeholder:"Enter Username"}),r.a.createElement("small",null,"Error Message")),r.a.createElement("div",{className:y.a["input-container"]},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{onChange:k,type:"text",name:"email",id:"email",placeholder:"Enter email"}),r.a.createElement("small",null,"Error Message")),r.a.createElement("div",{className:y.a["input-container"]},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{onChange:k,type:"text",name:"password",id:"password",placeholder:"Enter Password"}),r.a.createElement("small",null,"Error Message")),r.a.createElement("div",{className:y.a["input-container"]},r.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),r.a.createElement("input",{type:"text",name:"password2",id:"password2",placeholder:"Confirm Password"}),r.a.createElement("small",null,"Error Message")),r.a.createElement("button",{onClick:j,className:y.a.submit},"Submit")),r.a.createElement("div",{className:y.a.register},b?"Already Registered?":"Dont have an account?",r.a.createElement("button",{onClick:function(){_(!b)}},b?"Login?":"Signup?"))))},T=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null),r.a.createElement(D,null),r.a.createElement(I,null))};var z=function(){var e=Object(n.useContext)(w);return console.log(e.isLoggedIn),r.a.createElement(l.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/",element:e.isLoggedIn?r.a.createElement(L,null):r.a.createElement(T,null)})))};c.a.render(r.a.createElement(x,null,r.a.createElement(z,null)),document.getElementById("root"))},9:function(e,t,a){e.exports={"main-container":"TodoList_main-container__1WDrX",heading:"TodoList_heading__2DSq4","list-container":"TodoList_list-container__xHukz",list:"TodoList_list__2rX-d"}}},[[28,1,2]]]);
//# sourceMappingURL=main.53cea55a.chunk.js.map