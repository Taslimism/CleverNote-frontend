{"version":3,"sources":["components/UI/Header.module.css","components/Todo/TodoItem.module.css","components/Auth/Form.module.css","components/Todo/TodoItem.js","components/Todo/TodoList.js","store/authContext.js","components/UI/Header.jsx","components/UI/Footer.jsx","pages/Home.jsx","components/Auth/Form.js","pages/Authenticate.jsx","components/App.jsx","index.js","components/Todo/TodoList.module.css"],"names":["module","exports","TodoItem","props","useState","isClicked","setIsClicked","onClick","event","className","style","todo","TodoList","date","Date","ref","useRef","listData","setListData","itemAdded","setIsItemAdded","useEffect","a","axios","get","process","localStorage","getItem","headers","authorization","data","console","log","submitHandler","preventDefault","val","current","value","post","userId","status","getDate","getMonth","getFullYear","type","placeholder","map","item","id","key","AuthContext","React","createContext","isLoggedIn","handleLogin","handleLogout","AuthContextProvider","setIsLoggedIn","token","setItem","Provider","children","Header","ctx","useContext","window","location","btn","btnl","Footer","year","Home","Form","isSuccess","isError","name","email","password","formData","setFormData","switchForm","setSwitchForm","inputHandler","target","prevData","submitForm","e","to","statusCode","user","_id","container","form","htmlFor","onChange","submit","register","Authenticate","App","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.53cea55a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Header_btn__2p68t\",\"btnl\":\"Header_btnl__dvA-a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"clicked\":\"TodoItem_clicked__1Kk4E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form-heading\":\"Form_form-heading__24TUR\",\"form\":\"Form_form__okroz\",\"input-container\":\"Form_input-container__2VV7F\",\"success\":\"Form_success__3Q_A-\",\"error\":\"Form_error__3-VDv\",\"submit\":\"Form_submit__eYIzn\",\"register\":\"Form_register__12x-8\"};","import React, { useState } from 'react';\r\nimport style from './TodoItem.module.css'\r\n\r\nconst TodoItem = (props) => {\r\n\r\n    const [isClicked, setIsClicked] = useState(false);\r\n\r\n    const clickHandler = (event) => {\r\n        setIsClicked(!isClicked);\r\n    }\r\n\r\n    return <li onClick={clickHandler} className={`${style[`${isClicked ? 'clicked' : ''}`]}`}>{props.todo}</li>\r\n}\r\n\r\nexport default TodoItem;","import React, { useEffect, useState, useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport style from './TodoList.module.css';\r\nimport TodoItem from './TodoItem';\r\n\r\n\r\n\r\nconst TodoList = () => {\r\n    const date = new Date();\r\n    const ref = useRef();\r\n\r\n    const [listData, setListData] = useState();\r\n    const [itemAdded, setIsItemAdded] = useState(false);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const { data } = await axios.get(`${process.env.REACT_APP_BACKEND_URL}api/v1/todo/${localStorage.getItem('todo-user')}`, {\r\n                    headers: {\r\n                        authorization: `Bearer ${localStorage.getItem('todo-token')}`\r\n                    }\r\n                });\r\n                setListData(data.data.todo);\r\n\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        })();\r\n\r\n    }, [itemAdded])\r\n\r\n    const submitHandler = async (event) => {\r\n        event.preventDefault();\r\n        const val = ref.current.value;\r\n\r\n        if (!val || val === '')\r\n            return\r\n\r\n        try {\r\n            const { data } = await axios.post(`${process.env.REACT_APP_BACKEND_URL}api/v1/todo`, { userId: `${localStorage.getItem('todo-user')}`, todo: `${val}` }, {\r\n                headers: {\r\n                    authorization: `Bearer ${localStorage.getItem('todo-token')}`\r\n                }\r\n\r\n            })\r\n            if (data.status === 'success') {\r\n                ref.current.value = '';\r\n                setIsItemAdded(!itemAdded);\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return <div className={style[\"main-container\"]}>\r\n        <h2 className={style[\"heading\"]}>Todo List for {`${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`}</h2>\r\n        <hr />\r\n        <div>\r\n            <form>\r\n                <input ref={ref} type=\"text\" placeholder=\"Add items in list\" />\r\n                <button onClick={submitHandler}>Add</button>\r\n            </form>\r\n        </div>\r\n        <div className={style[\"list-container\"]}>\r\n            <ul className={style[\"list\"]}>\r\n                {\r\n                    listData && listData.map(item => <TodoItem id={item.id} todo={item.todo} key={item.id} />)\r\n                }\r\n            </ul>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default TodoList;","import React, { useState, useEffect } from 'react';\r\n\r\nconst AuthContext = React.createContext({\r\n    isLoggedIn: false,\r\n    handleLogin: () => { },\r\n    handleLogout: () => { }\r\n})\r\n\r\nexport const AuthContextProvider = (props) => {\r\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n    const handleLogin = (token, userId) => {\r\n        localStorage.setItem('todo-token', token);\r\n        localStorage.setItem('todo-user', userId);\r\n        setIsLoggedIn(true);\r\n\r\n    }\r\n    const handleLogout = () => {\r\n        localStorage.setItem('todo-token', 'null');\r\n        localStorage.setItem('todo-user', 'null');\r\n        setIsLoggedIn(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (localStorage.getItem('todo-token') !== 'null') {\r\n            handleLogin(localStorage.getItem('todo-token'), localStorage.getItem('todo-user'))\r\n        }\r\n    }, [])\r\n\r\n    return <AuthContext.Provider value={{ isLoggedIn: isLoggedIn, handleLogout: handleLogout, handleLogin: handleLogin }}>\r\n        {props.children}\r\n    </AuthContext.Provider>\r\n}\r\n\r\nexport default AuthContext;","import React, { useContext } from \"react\";\n\nimport style from './Header.module.css';\nimport AuthContext from './../../store/authContext';\n\nfunction Header() {\n  const ctx = useContext(AuthContext);\n\n  return (\n    <header>\n      <div>\n        <h1>CleverNote</h1>\n      </div>\n      {!ctx.isLoggedIn &&\n        <div>\n          <button onClick={() => {\n            window.location = \"/\"\n          }} className={style.btn}>\n            Login\n          </button>\n        </div>\n      }\n      {ctx.isLoggedIn &&\n        <div>\n          <button onClick={() => { ctx.handleLogout(); window.location = \"/\" }} className={style.btnl}>\n            Logout\n          </button>\n        </div>\n      }\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction Footer() {\n  const year = new Date().getFullYear();\n  return (\n    <footer>\n      <p>Copyright ⓒ {year}</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\r\n\r\nimport TodoList from './../components/Todo/TodoList';\r\nimport Header from './../components/UI/Header';\r\nimport Footer from './../components/UI/Footer';\r\n\r\nconst Home = () => {\r\n\r\n    return <>\r\n        <Header />\r\n        <TodoList />\r\n        <Footer />\r\n    </>\r\n\r\n}\r\n\r\nexport default Home;","import axios from \"axios\";\r\nimport React, { useState, useContext } from \"react\";\r\n\r\nimport style from './Form.module.css';\r\nimport AuthContext from './../../store/authContext';\r\n\r\nconst Form = () => {\r\n    const ctx = useContext(AuthContext);\r\n    const [isSuccess, setSuccess] = useState(false);\r\n    const [isError, setError] = useState(false);\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: ''\r\n    })\r\n\r\n    const [switchForm, setSwitchForm] = useState(false);\r\n\r\n    const handleSwitch = () => {\r\n        setSwitchForm(!switchForm);\r\n    }\r\n\r\n    const inputHandler = (event) => {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n\r\n        setFormData((prevData) => {\r\n            return {\r\n                ...prevData,\r\n                [name]: value\r\n            }\r\n        })\r\n    }\r\n\r\n    const submitForm = async (e) => {\r\n        e.preventDefault();\r\n        let to = \"\";\r\n        if (switchForm)\r\n            to = \"register\";\r\n        else\r\n            to = \"login\";\r\n\r\n        try {\r\n            const { data } = await axios.post(`${process.env.REACT_APP_BACKEND_URL}api/v1/user/${to}`, formData);\r\n            if (to === 'register') {\r\n                console.log(data.data.statusCode, data.statusCode)\r\n                setSwitchForm(!switchForm);\r\n            }\r\n\r\n            if (data.status === 'success' && to === 'login') {\r\n                ctx.handleLogin(data.data.token, data.data.user._id);\r\n\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    return <>\r\n        <div className={style.container}>\r\n            <form className={style.form} >\r\n                <h2 className={style[\"form-heading\"]}\r\n                >{switchForm ? 'Register' : 'Login'}</h2>\r\n                <hr />\r\n                {switchForm && <div className={`${style[\"input-container\"]} ${style[`${isSuccess ? 'success' : ''}`]} ${style[`${isError ? 'error' : ''}`]}`}>\r\n                    <label htmlFor=\"name\">Username</label>\r\n                    <input onChange={inputHandler} type=\"text\" name=\"name\" id=\"name\" placeholder=\"Enter Username\" />\r\n                    <small>Error Message</small>\r\n                </div>\r\n                }\r\n\r\n                <div className={style[\"input-container\"]}>\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input onChange={inputHandler} type=\"text\" name=\"email\" id=\"email\" placeholder=\"Enter email\" />\r\n                    <small>Error Message</small>\r\n                </div>\r\n\r\n                <div className={style[\"input-container\"]}>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input onChange={inputHandler} type=\"text\" name=\"password\" id=\"password\" placeholder=\"Enter Password\" />\r\n                    <small>Error Message</small>\r\n                </div>\r\n                <div className={style[\"input-container\"]}>\r\n                    <label htmlFor=\"password2\">Confirm Password</label>\r\n                    <input type=\"text\" name=\"password2\" id=\"password2\" placeholder=\"Confirm Password\" />\r\n                    <small>Error Message</small>\r\n                </div>\r\n                <button onClick={submitForm} className={style.submit}>Submit</button>\r\n            </form>\r\n            <div className={style.register}>\r\n                {switchForm ? 'Already Registered?' : 'Dont have an account?'}\r\n                <button onClick={handleSwitch}>{switchForm ? 'Login?' : 'Signup?'}</button>\r\n            </div>\r\n        </div>\r\n    </>\r\n}\r\n\r\nexport default Form;","import React from 'react';\r\n\r\nimport Form from './../components/Auth/Form';\r\nimport Header from './../components/UI/Header';\r\nimport Footer from './../components/UI/Footer';\r\n\r\nconst Authenticate = () => {\r\n\r\n    return <>\r\n        <Header />\r\n        <Form />\r\n        <Footer />\r\n    </>\r\n\r\n}\r\n\r\nexport default Authenticate;","import React, { useContext } from \"react\";\r\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\r\n\r\nimport Home from './../pages/Home';\r\nimport Authenticate from './../pages/Authenticate';\r\nimport AuthContext from \"./../store/authContext\";\r\n\r\nfunction App() {\r\n  const ctx = useContext(AuthContext);\r\n  console.log(ctx.isLoggedIn);\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n\r\n        <Route path=\"/\" element={ctx.isLoggedIn ? <Home /> : <Authenticate />} />\r\n\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nimport { AuthContextProvider } from \"./../src/store/authContext\"\n\nReactDOM.render(\n    <AuthContextProvider>\n        <App />\n    </AuthContextProvider>, document.getElementById(\"root\"));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main-container\":\"TodoList_main-container__1WDrX\",\"heading\":\"TodoList_heading__2DSq4\",\"list-container\":\"TodoList_list-container__xHukz\",\"list\":\"TodoList_list__2rX-d\"};"],"sourceRoot":""}